erDiagram
    ORDER_ITEM_FACT {
        bigint ORDER_ITEM_FACT_SK PK
        bigint ORDER_ITEM_ID
        bigint ORDER_ID
        bigint CUSTOMER_DIM_KEY FK
        bigint CUSTOMER_ADDRESS_DIM_KEY FK
        bigint RESTAURANT_DIM_KEY FK
        bigint RESTAURANT_LOCATION_DIM_KEY FK
        bigint MENU_DIM_KEY FK
        bigint DELIVERY_AGENT_DIM_KEY FK
        bigint ORDER_DATE_DIM_KEY FK
        int QUANTITY
        decimal PRICE
        decimal SUBTOTAL
        varchar DELIVERY_STATUS
        timestamp ESTIMATED_TIME
    }

    CUSTOMER_DIM {
        bigint CUSTOMER_HK PK
        varchar CUSTOMER_ID
        varchar NAME
        varchar MOBILE
        varchar EMAIL
        varchar LOGIN_BY_USING
        varchar GENDER
        date DOB
        date ANNIVERSARY
        jsonb PREFERENCES
        date EFF_START_DATE
        date EFF_END_DATE
        boolean IS_CURRENT
    }

    CUSTOMER_ADDRESS_DIM {
        bigint CUSTOMER_ADDRESS_HK PK
        varchar ADDRESS_ID
        varchar CUSTOMER_ID_FK
        varchar FLAT_NO
        varchar HOUSE_NO
        varchar FLOOR
        varchar BUILDING
        varchar LANDMARK
        varchar LOCALITY
        varchar CITY
        varchar STATE
        varchar PINCODE
        point COORDINATES
        boolean PRIMARY_FLAG
        varchar ADDRESS_TYPE
        date EFF_START_DATE
        date EFF_END_DATE
        boolean IS_CURRENT
    }

    DATE_DIM {
        bigint DATE_DIM_HK PK
        date CALENDAR_DATE
        int YEAR
        int QUARTER
        int MONTH
        int WEEK
        int DAY_OF_YEAR
        int DAY_OF_WEEK
        int DAY_OF_THE_MOTH
        varchar DAY_NAME
    }

    DELIVERY_AGENT_DIM {
        bigint DELIVERY_AGENT_HK PK
        varchar DELIVERY_AGENT_ID
        varchar NAME
        varchar PHONE
        varchar VEHICLE_TYPE
        varchar LOCATION_ID_FK
        varchar STATUS
        varchar GENDER
        decimal RATING
        date EFF_START_DATE
        date EFF_END_DATE
        boolean IS_CURRENT
    }

    RESTAURANT_LOCATION_DIM {
        bigint RESTAURANT_LOCATION_HK PK
        varchar LOCATION_ID
        varchar CITY
        varchar STATE
        varchar STATE_CODE
        boolean IS_UNION_TERRITORY
        boolean CAPITAL_CITY_FLAG
        varchar CITY_TIER
        varchar ZIP_CODE
        boolean ACTIVE_FLAG
        date EFF_START_DATE
        date EFF_END_DATE
        boolean CURRENT_FLAG
    }

    RESTAURANT_DIM {
        bigint RESTAURANT_HK PK
        varchar RESTAURANT_ID
        varchar NAME
        varchar CUSINE_TYPE
        decimal PRICING_FOR_TWO
        varchar RESTAURANT_PHONE
        varchar OPERATING_HOURS
        varchar LOCATION_ID_FK
        boolean ACTIVE_FLAG
        varchar OPEN_STATUS
        varchar LOCALITY
        text RESTAURANT_ADDRESS
    }

    MENU_DIM {
        bigint MENU_DIM_HK PK
        varchar MENU_ID
        varchar RESTAURANT_ID_FK
        varchar ITEM_NAME
        text DESCRIPTION
        decimal PRICE
        varchar CATEGORY
        boolean AVAILABILITY
        varchar ITEM_TYPE
        date EFF_START_DATE
        date EFF_END_DATE
        boolean IS_CURRENT
    }

    CUSTOMER_DIM ||--o{ ORDER_ITEM_FACT : references
    CUSTOMER_ADDRESS_DIM ||--o{ ORDER_ITEM_FACT : references
    DATE_DIM ||--o{ ORDER_ITEM_FACT : references
    DELIVERY_AGENT_DIM ||--o{ ORDER_ITEM_FACT : references
    RESTAURANT_LOCATION_DIM ||--o{ ORDER_ITEM_FACT : references
    RESTAURANT_DIM ||--o{ ORDER_ITEM_FACT : references
    MENU_DIM ||--o{ ORDER_ITEM_FACT : references